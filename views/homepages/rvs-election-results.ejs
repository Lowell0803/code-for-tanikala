<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TANIKALA Voting System</title>

    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/home.css" />
    <!-- <link rel="stylesheet" type="text/css" href="css/index_election.css" /> -->
    <link rel="stylesheet" type="text/css" href="css/rvs.css" />
    <link rel="stylesheet" type="text/css" href="admin/css/index-admin.css" />
    <link rel="stylesheet" type="text/css" href="admin/css/vote-tally.css" />

    <link rel="stylesheet" type="text/css" href="admin/dependencies/progress-bar.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet" />
  </head>
  <body>
    <header class="header">
      <div class="header-logo">
        <img src="img/logo_tanikala.png" alt="Tanikala Voting System" />
      </div>
      <nav class="header-nav">
        <h2 id="active-link">Results Verification Portal</h2>
      </nav>
      <div class="header-bottom-line"></div>
    </header>

    <div class="content">
      <div class="content-title">
        <h3 class="h3" style="text-transform: uppercase">Welcome to the Bulacan State University Student Government Elections - Results Verification Portal!</h3>
      </div>

      <div class="content-main">
        <div class="main-first">
          <ul class="header-nav-content">
            <li><a href="/rvs-about">About</a></li>
            <li><a href="/rvs-voter-turnout">Voter Turnout</a></li>
            <li><a href="/rvs-votes-per-candidate">Votes per Candidate</a></li>
            <li><a href="/rvs-election-results" id="active-link2">Election Results</a></li>
          </ul>
          <div class="election-title">
            <p class="title">
              <span>BulSU Student Government Elections S.Y. 2025 - 2026</span>
            </p>
          </div>
        </div>

        <div class="beside">
          <i class="fa-solid fa-house"></i>
          <a href="/index-results-are-out-period">Go Back to Homepage.</a>
        </div>

        <div class="main-container">
          <p>This page shows the vote counts for each candidate on the Supreme Student Council and Local Student Councils (LSCs).</p>

          <br />
          <p>To verify your vote:</p>
          <br />
          <ol>
            <li>Click 'View Transaction Hashes' to see the list of votes for each candidate.</li>
            <li>Search for your transaction hash in the list.</li>
          </ol>
          <br />
          <p>If your hash appears, your vote was successfully recorded for that candidate. This ensures your vote is counted accurately while keeping your identity private!</p>

          <main class="main">
            <div class="title-container">
              <div class="r">
                <i class="fas fa-list-ol"></i>
                <h1 class="title">Vote Tally</h1>
              </div>
            </div>
            <hr class="title-line" />

            <div class="first-main">
              <!-- Supreme Student Council Section -->
              <!-- Supreme Student Council Section -->
              <div class="main-left">
                <h1 class="ssc">Supreme Student Council</h1>

                <!-- President -->
                <div class="container-ssc" id="container-president">
                  <h1>President</h1>
                  <% if (groupedResults.president && Array.isArray(groupedResults.president)) { %> <% groupedResults.president.forEach(function(candidate) { %>
                  <div class="candidate">
                    <img src="<%= candidate.image %>" alt="<%= candidate.name %>" />
                    <h3><%= candidate.name %></h3>
                    <p>Party: <%= candidate.party %></p>
                    <p>Votes: <%= candidate.voteCount %></p>
                  </div>
                  <% }); %> <% } else { %>
                  <p>No candidates for President</p>
                  <% } %>
                </div>

                <!-- Vice President -->
                <div class="container-ssc" id="container-vice-president">
                  <h1>Vice President</h1>
                  <% if (groupedResults["vice president"] && Array.isArray(groupedResults["vice president"])) { %> <% groupedResults["vice president"].forEach(function(candidate) { %>
                  <div class="candidate">
                    <img src="<%= candidate.image %>" alt="<%= candidate.name %>" />
                    <h3><%= candidate.name %></h3>
                    <p>Party: <%= candidate.party %></p>
                    <p>Votes: <%= candidate.voteCount %></p>
                  </div>
                  <% }); %> <% } else { %>
                  <p>No candidates for Vice President</p>
                  <% } %>
                </div>

                <!-- Senators (Top 7 with ties) -->
                <div class="container-ssc" id="container-senator">
                  <h1>Senators</h1>
                  <% if (groupedResults.senator && Array.isArray(groupedResults.senator)) { %> <% groupedResults.senator.forEach(function(candidate) { %>
                  <div class="candidate">
                    <img src="<%= candidate.image %>" alt="<%= candidate.name %>" />
                    <h3><%= candidate.name %></h3>
                    <p>Party: <%= candidate.party %></p>
                    <p>Votes: <%= candidate.voteCount %></p>
                  </div>
                  <% }); %> <% } else { %>
                  <p>No candidates for Senator</p>
                  <% } %>
                </div>
              </div>

              <!-- Local Student Council Section -->
              <div class="main-right">
                <div class="main-right-header">
                  <h1 class="lsc">Local Student Council</h1>
                  <br />
                  <!-- College Filter -->
                  <select name="college" id="college-selector">
                    <option value="">-- Select a College --</option>
                    <option value="cafa">College of Architecture and Fine Arts (CAFA)</option>
                    <option value="cal">College of Arts and Letters (CAL)</option>
                    <option value="cbea">College of Business Education and Accountancy (CBEA)</option>
                    <option value="ccje">College of Criminal Justice Education (CCJE)</option>
                    <option value="chtm">College of Hospitality and Tourism Management (CHTM)</option>
                    <option value="cict">College of Information and Communications Technology (CICT)</option>
                    <option value="cit">College of Industrial Technology (CIT)</option>
                    <option value="cn">College of Nursing (CN)</option>
                    <option value="coe">College of Engineering (COE)</option>
                    <option value="coed">College of Education (COED)</option>
                    <option value="cs">College of Science (CS)</option>
                    <option value="cser">College of Sports, Exercise, and Recreation (CSER)</option>
                    <option value="cssp">College of Social Sciences and Philosophy (CSSP)</option>
                  </select>
                </div>
                <br />
                <div id="lsc-container">
                  <!-- Governor -->
                  <div class="container-lsc" id="container-lsc-governor">
                    <h1>Governor</h1>
                    <% if (groupedResults.governor && typeof groupedResults.governor === 'object') { %> <% Object.keys(groupedResults.governor).forEach(function(college) { %> <% groupedResults.governor[college].forEach(function(candidate) { %>
                    <div class="candidate lsc-candidate" data-college="<%= college %>">
                      <img src="<%= candidate.image %>" alt="<%= candidate.name %>" />
                      <h3><%= candidate.name %></h3>
                      <p>Party: <%= candidate.party %></p>
                      <p>Votes: <%= candidate.voteCount %></p>
                    </div>
                    <% }); %> <% }); %> <% } else { %>
                    <p>No candidates for Governor</p>
                    <% } %>
                  </div>

                  <!-- Vice Governor -->
                  <div class="container-lsc" id="container-lsc-vice-governor">
                    <h1>Vice Governor</h1>
                    <% if (groupedResults["vice governor"] && typeof groupedResults["vice governor"] === 'object') { %> <% Object.keys(groupedResults["vice governor"]).forEach(function(college) { %> <% groupedResults["vice governor"][college].forEach(function(candidate) { %>
                    <div class="candidate lsc-candidate" data-college="<%= college %>">
                      <img src="<%= candidate.image %>" alt="<%= candidate.name %>" />
                      <h3><%= candidate.name %></h3>
                      <p>Party: <%= candidate.party %></p>
                      <p>Votes: <%= candidate.voteCount %></p>
                    </div>
                    <% }); %> <% }); %> <% } else { %>
                    <p>No candidates for Vice Governor</p>
                    <% } %>
                  </div>

                  <!-- Board Member -->
                  <div class="container-lsc" id="container-lsc-board-member">
                    <h1>Board Member</h1>
                    <% if (groupedResults["board member"] && typeof groupedResults["board member"] === 'object') { %> <% Object.keys(groupedResults["board member"]).forEach(function(college) { %>
                    <h2><%= college %></h2>
                    <% var programs = groupedResults["board member"][college]; %> <% Object.keys(programs).forEach(function(program) { %>
                    <h3><%= program %></h3>
                    <% programs[program].forEach(function(candidate) { %>
                    <div class="candidate lsc-candidate" data-college="<%= college %>" data-program="<%= program %>">
                      <img src="<%= candidate.image %>" alt="<%= candidate.name %>" />
                      <h4><%= candidate.name %></h4>
                      <p>Party: <%= candidate.party %></p>
                      <p>Votes: <%= candidate.voteCount %></p>
                    </div>
                    <% }); %> <% }); %> <% }); %> <% } else { %>
                    <p>No candidates for Board Member</p>
                    <% } %>
                  </div>
                </div>

                <!-- LSC College Filter Script -->
                <script>
                  document.addEventListener("DOMContentLoaded", function () {
                    const selector = document.getElementById("college-selector");
                    function filterLSCCandidates() {
                      const selectedCollege = selector.value;
                      const candidateCards = document.querySelectorAll(".lsc-candidate");
                      candidateCards.forEach((card) => {
                        const candidateCollege = card.getAttribute("data-college").toLowerCase();
                        if (!selectedCollege || candidateCollege === selectedCollege) {
                          card.style.display = "block";
                        } else {
                          card.style.display = "none";
                        }
                      });
                    }
                    selector.addEventListener("change", filterLSCCandidates);
                    filterLSCCandidates();
                  });
                </script>
              </div>
            </div>
          </main>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="footer-left">
        <img src="img/calendar.png" class="footer-img" />
        <p id="datetime">OCTOBER 23, 2024 - 04:17 AM</p>
      </div>

      <div class="footer-center">
        <img src="img/copyright.png" class="footer-img" id="copyright-img" />
        <p>2025 - Fourmula 1</p>
      </div>
      <div class="footer-right">
        <img src="img/log-in.png" class="footer-img" id="admin-img" />
        <p>Admin? Log in&nbsp;</p>
        <a href="admin_login.html"> here.</a>
      </div>
    </footer>
    <script src="js/index.js"></script>
  </body>
</html>
